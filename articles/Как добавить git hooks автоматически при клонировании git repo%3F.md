# Как добавить git hooks автоматически при клонировании git repo?
Да, вам нужны [шаблоны](https://git-scm.com/docs/git-init#_template_directory). Он заполняется в клонах и init. Если ваш проект уже существует, вы можете перезапустить git init, чтобы получить хуки, которые вы настроили в своих шаблонах.

Вы не можете сделать что-то с репо, чтобы автоматически добавлять хуки, когда оно клонируется. Это было бы проблемой безопасности: если я, случайный незнакомец, клонирую ваш репозиторий, то, когда я запускаю обычную команду git, он начинает выполнять ваши скрипты.

Если вы поддерживаете все машины, с которых люди клонируют ваш репозиторий (или вы можете поговорить с кем-то, кто это делает) - например, Вы просто хотите это для корпоративной среды - вы можете настроить общесистемные шаблоны.

В качестве альтернативы вы можете дать людям сценарий / команду оболочки для клонирования репозитория, который одновременно выполняет клонирование и настраивает хуки, или включить скрипт в репозиторий и сказать людям запускать его после клонирования.

Мой работодатель делает в основном второй подход: для нашего центрального репозитория разработки они установили команду `git xyzclone` (где XYZ - инициалы компании), которая в основном просто требует помещения сценария оболочки с именем` git-xyzclone` в любой каталог на пути. Для других репозиториев, например, для групповых вещей, которые не являются частью центрального репо или проектов с открытым исходным кодом, я могу использовать обычный `git clone`.

## КАТАЛОГ ШАБЛОНОВ

Файлы и каталоги в каталоге шаблонов, чье имя не начинается с точки, будут скопированы в `$GIT_DIR` после его создания.

Каталог шаблонов будет одним из следующих (по порядку):

* аргумент, заданный параметром `--template`;
    
* содержимое переменной окружения `$GIT_TEMPLATE_DIR`;
    
* переменная конфигурации init.templateDir; или же
    
* каталог шаблонов по умолчанию: `/usr/share/git-core/templates`.
    

Каталог шаблонов по умолчанию включает в себя некоторую структуру каталогов, предлагаемые «шаблоны исключения» (см. [Gitignore\[5\]](https://git-scm.com/docs/gitignore)) и примеры файлов ловушек.

Все примеры крюков по умолчанию отключены. Чтобы включить один из примеров, переименуйте его, удалив суффикс `.sample`.

Смотрите [githooks\[5\]](https://git-scm.com/docs/githooks) для более общей информации о выполнении ловушек.

**********
[hooks](/tags/hooks.md)
